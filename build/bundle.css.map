{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "..\\..\\Search.svelte",
    "..\\..\\Tree.svelte"
  ],
  "sourcesContent": [
    "<script>\r\n  // to implement: detect if control is held down and 'a' or 'x' (or 'v'?) are pressed\r\n\r\n  // import { createEventDispatcher } from \"svelte\";\r\n  // const dispatch = createEventDispatcher();\r\n  // const func = () => dispatch(\"eventname\", var/ref);\r\n\r\n  export let query;\r\n\r\n  // #cancel mouse-selection of query text\r\n  const queryMousedown = e => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  // #cancel special keys\r\n  const queryKeydown = e => {\r\n    if (\r\n      e.key === \"Enter\" ||\r\n      e.key === \"Control\" ||\r\n      e.key === \"ArrowLeft\" ||\r\n      e.key === \"ArrowRight\" ||\r\n      e.key === \"Delete\" ||\r\n      (e.key === \"Backspace\" && e.target.textContent.length === 1)\r\n    ) {\r\n      console.log(`stopped ${e.key} special case`);\r\n      // find some way of ensuring query[0] is always a whitespace\r\n      e.preventDefault(); // will stop event bubbling to keypress\r\n    }\r\n  };\r\n\r\n  // set consts here for positionCursor to save redeclaring\r\n  // positionCursor function from\r\n  // https://www.geeksforgeeks.org/how-to-set-cursor-position-in-content-editable-element-using-javascript/\r\n\r\n  const positionCursor = () => {\r\n    // relevant text-element\r\n    const tag = document.querySelector(\".query\");\r\n    // Creates range object\r\n    const setpos = document.createRange();\r\n    // Creates object for selection\r\n    const set = window.getSelection();\r\n    // Set start position of range\r\n    setpos.setStart(tag.childNodes[0], tag.textContent.length);\r\n    // Collapse range within its boundary points\r\n    // Returns boolean\r\n    setpos.collapse(true);\r\n    // Remove all ranges set\r\n    set.removeAllRanges();\r\n    // Add range with respect to range object\r\n    set.addRange(setpos);\r\n    // Set cursor on focus\r\n    tag.focus();\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .search {\r\n    background-color: rgba(0, 0, 0, 0.69);\r\n    color: rgb(94, 255, 0);\r\n    max-width: 100%;\r\n    display: inline;\r\n    /* user-select: none; */\r\n    /* color: transparent; */\r\n    /* text-shadow: 0 0 0 rgb(94, 255, 0); */\r\n    /* box-shadow: 8px 0px 0px 0px rgb(94, 255, 0); */\r\n  }\r\n\r\n  .query {\r\n    outline: none;\r\n    caret-color: transparent;\r\n    /* user-select: none; */\r\n    /* /* cursor: none; */\r\n    /* pointer-events: none; */\r\n  }\r\n\r\n  .query::before {\r\n    content: \"$_:\";\r\n    display: inline;\r\n    color: rgb(255, 0, 149);\r\n  }\r\n\r\n  .query::after {\r\n    content: \"\";\r\n    display: inline-block;\r\n    width: 0.5rem;\r\n    height: 1rem;\r\n    margin-bottom: 0.08rem;\r\n    background-color: rgb(94, 255, 0);\r\n    vertical-align: middle;\r\n    animation: blink 1s ease-in-out infinite;\r\n  }\r\n\r\n  @keyframes blink {\r\n    0% {\r\n      opacity: 100%;\r\n    }\r\n    20% {\r\n      opacity: 40%;\r\n    }\r\n    40% {\r\n      opacity: 0%;\r\n    }\r\n    60% {\r\n      opacity: 50%;\r\n    }\r\n    80% {\r\n      opacity: 80%;\r\n    }\r\n    100% {\r\n      opacity: 100%;\r\n    }\r\n  }\r\n\r\n  .navbar {\r\n    background-color: rgba(0, 0, 0, 0.85);\r\n    /* #cancel global styles */\r\n    border-bottom: 0;\r\n    margin-bottom: 0;\r\n    text-align: left;\r\n  }\r\n</style>\r\n\r\n<div class=\"navbar my-1\" on:click={positionCursor}>\r\n  <div class=\"search\" on:click={positionCursor}>\r\n    <span\r\n      class=\"query\"\r\n      contenteditable=\"true\"\r\n      spellcheck=\"false\"\r\n      bind:textContent={query}\r\n      on:click={positionCursor}\r\n      on:keydown={queryKeydown}\r\n      on:mousedown={queryMousedown} />\r\n  </div>\r\n</div>\r\n\r\n<!-- on:keypress={queryKeypress} -->\r\n<!-- on:keypress={console.log('keypress')} -->\r\n<!-- &nbsp; -->\r\n\r\n<!--\r\n  // count valid keypresses and restricts length\r\n  // only runs if key is not a special key\r\n  // forces search to remain single-line\r\n  const queryKeypress = e => {\r\n  // 21chars is max at 320px (i5)\r\n  // assume ~25-30% of clientWidth is not .query\r\n  // assume font-size: ~1rem\r\n  // 320 * 0.7 = 224\r\n  // 224 / 21 = ~10px per char\r\n  // use an equation between char size and omnibar width\r\n  let max = Math.floor(\r\n    (document.querySelector(\".navbar\").clientWidth * 0.666) / 10\r\n  );\r\n  console.log(max);\r\n  if (e.target.textContent.length > max) {\r\n    e.preventDefault();\r\n  }\r\n  };\r\n-->\r\n\r\n<!-- \r\n    // also an option from https://stackoverflow.com/a/7445389\r\n    // function SetEnd(txt) {\r\n      if (txt.createTextRange) {\r\n       //IE\r\n       var FieldRange = txt.createTextRange();\r\n       FieldRange.moveStart('character', txt.value.length);\r\n       FieldRange.collapse();\r\n       FieldRange.select();\r\n       }\r\n      else {\r\n       //Firefox and Opera\r\n       txt.focus();\r\n       var length = txt.value.length;\r\n       txt.setSelectionRange(length, length);\r\n      }\r\n    }\r\n  -->\r\n",
    "<script>\r\n  import flatten from \"flat\";\r\n  import { onMount } from \"svelte\";\r\n  // import query var from omninav\r\n  // set query conditions here to detect for nav matches\r\n  // add necessary classes / trigger effects on match\r\n\r\n  // changing this query var doesn't affect the 'query's in Omninav.svelte or Search.svelte\r\n  export let query;\r\n\r\n  $: if (query) {\r\n    query = query.substr(1);\r\n    // console.log(Object.keys(tree));\r\n    // demo highlight on query-nav match\r\n    if (query === tree.source) {\r\n      document.querySelector(\".c1.r3\").style.color = \"yellow\";\r\n      document.querySelector(\".c1.r3\").style.borderBottom = \"solid 2px yellow\";\r\n      document.querySelector(\".c2.r3\").style.color = \"yellow\";\r\n      document.querySelector(\".c2.r3\").style.borderBottom = \"solid 2px yellow\";\r\n      document.querySelector(\".c2.r4\").style.color = \"yellow\";\r\n      document.querySelector(\".c2.r4\").style.borderBottom = \"solid 2px yellow\";\r\n      document.querySelector(\".c2.r5\").style.color = \"yellow\";\r\n      document.querySelector(\".c2.r5\").style.borderBottom = \"solid 2px yellow\";\r\n    }\r\n  }\r\n\r\n  // add to videos: tidbits, PAVEMENT_2017_AH18, ...\r\n  // 'source' could be called 'root', 'home' ...\r\n  // placeholder tree object\r\n  let tree = {\r\n    source: \"path\",\r\n    about: \"path\",\r\n    web: {\r\n      primer_2027: \"path\",\r\n      platypus: \"path\",\r\n      roslyn_health: \"path\"\r\n    },\r\n    video: {\r\n      oh_ivy: \"path\",\r\n      procedural_disco: \"path\",\r\n      NCTRNL: \"path\"\r\n    }\r\n  };\r\n\r\n  // 1. set 'branch' to col-1 ONCE, no newline\r\n  // 2. for subbranch length, add elm to col-2, then newline\r\n  // 3. after last subbranch elm, newline and set back to col-1\r\n  const createTree = obj => {\r\n    let c = 1;\r\n    let r = 1;\r\n\r\n    for (const branch in obj) {\r\n      if (typeof obj[branch] == \"object\") {\r\n        document.querySelector(`.c${c}.r${r}`).textContent = branch;\r\n        // console.log(branch, r, c);\r\n        r--;\r\n        for (let i = 0; i < Object.keys(obj[branch]).length; i++) {\r\n          c = 2;\r\n          r++;\r\n          // console.log(Object.keys(obj[branch])[i], r, c);\r\n          document.querySelector(`.c${c}.r${r}`).textContent = Object.keys(\r\n            obj[branch]\r\n          )[i];\r\n        }\r\n        c = 1;\r\n        r++;\r\n      } else {\r\n        // console.log(branch, r, c);\r\n        document.querySelector(`.c${c}.r${r}`).textContent = branch;\r\n        c = 1;\r\n        r++;\r\n      }\r\n    }\r\n  };\r\n\r\n  onMount(async () => {\r\n    createTree(tree);\r\n  });\r\n</script>\r\n\r\n<style>\r\n  /* hide nav by default, reveal by class add on nav match */\r\n  /* tweak global styles */\r\n  .grid-2 {\r\n    grid-gap: 1rem;\r\n    width: fit-content; /* unsuported */\r\n    margin: 1rem 0 0 2rem;\r\n  }\r\n  /* grid items need to not move when i add border/outline/edge/lines to connect them, try having borders etc by default, and making them visible when needed */\r\n</style>\r\n\r\n<!-- html/nav structure options -->\r\n<!-- json, array, object, grid, table, list, mermaidjs ? -->\r\n<div class=\"grid-2\">\r\n  <div class=\"c1 r1\" />\r\n  <div class=\"c2 r1\" />\r\n  <div class=\"c1 r2\" />\r\n  <div class=\"c2 r2\" />\r\n  <div class=\"c1 r3\" />\r\n  <div class=\"c2 r3\" />\r\n  <div class=\"c1 r4\" />\r\n  <div class=\"c2 r4\" />\r\n  <div class=\"c1 r5\" />\r\n  <div class=\"c2 r5\" />\r\n  <div class=\"c1 r6\" />\r\n  <div class=\"c2 r6\" />\r\n  <div class=\"c1 r7\" />\r\n  <div class=\"c2 r7\" />\r\n  <div class=\"c1 r8\" />\r\n  <div class=\"c2 r8\" />\r\n</div>\r\n\r\n<!-- {#each x as y}{/each} -->\r\n\r\n<!--\r\n  // from https://stackoverflow.com/a/44134784\r\n  // const getObjRows = obj => {\r\n  //   return Object.keys(tree).reduce(function(r, k) {\r\n  //     return r.concat(k, tree[k]);\r\n  //   }, []);\r\n  // };\r\n\r\n  // console.log(\r\n  //   tree.flatMap(a =>\r\n  //     typeof a == \"object\" ? console.log(\"col-2\") : console.log(\"col-1\")\r\n  //   )\r\n  // );\r\n  // console.log(Object.keys(flatten(tree)));\r\n  // console.log(Object.entries(tree));\r\n  // console.log(flatten(tree).length);\r\n\r\n  // const flatTree = flatten(tree);\r\n\r\n // $: if (query) {\r\n  //   console.log(query[0]);\r\n  //   if (query[0] !== \" \") {\r\n  //     query = \" \";\r\n  //   }\r\n  // } -->\r\n"
  ],
  "names": [],
  "mappings": "AAwDE,OAAO,eAAC,CAAC,AACP,gBAAgB,CAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CACrC,KAAK,CAAE,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CACtB,SAAS,CAAE,IAAI,CACf,OAAO,CAAE,MAAM,AAKjB,CAAC,AAED,MAAM,eAAC,CAAC,AACN,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,WAAW,AAI1B,CAAC,AAED,qBAAM,QAAQ,AAAC,CAAC,AACd,OAAO,CAAE,KAAK,CACd,OAAO,CAAE,MAAM,CACf,KAAK,CAAE,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,AACzB,CAAC,AAED,qBAAM,OAAO,AAAC,CAAC,AACb,OAAO,CAAE,EAAE,CACX,OAAO,CAAE,YAAY,CACrB,KAAK,CAAE,MAAM,CACb,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,OAAO,CACtB,gBAAgB,CAAE,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CACjC,cAAc,CAAE,MAAM,CACtB,SAAS,CAAE,oBAAK,CAAC,EAAE,CAAC,WAAW,CAAC,QAAQ,AAC1C,CAAC,AAED,WAAW,oBAAM,CAAC,AAChB,EAAE,AAAC,CAAC,AACF,OAAO,CAAE,IAAI,AACf,CAAC,AACD,GAAG,AAAC,CAAC,AACH,OAAO,CAAE,GAAG,AACd,CAAC,AACD,GAAG,AAAC,CAAC,AACH,OAAO,CAAE,EAAE,AACb,CAAC,AACD,GAAG,AAAC,CAAC,AACH,OAAO,CAAE,GAAG,AACd,CAAC,AACD,GAAG,AAAC,CAAC,AACH,OAAO,CAAE,GAAG,AACd,CAAC,AACD,IAAI,AAAC,CAAC,AACJ,OAAO,CAAE,IAAI,AACf,CAAC,AACH,CAAC,AAED,OAAO,eAAC,CAAC,AACP,gBAAgB,CAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAErC,aAAa,CAAE,CAAC,CAChB,aAAa,CAAE,CAAC,CAChB,UAAU,CAAE,IAAI,AAClB,CAAC;ACpCD,OAAO,cAAC,CAAC,AACP,QAAQ,CAAE,IAAI,CACd,KAAK,CAAE,WAAW,CAClB,MAAM,CAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,AACvB,CAAC"
}